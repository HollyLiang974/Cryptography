{"./":{"url":"./","title":"Introduction","keywords":"","body":"Introduction "},"chapter1/信息熵.html":{"url":"chapter1/信息熵.html","title":"1.1 信息熵","keywords":"","body":"信息熵 概率 p(x)p\\left ( x \\right )p(x) 取值0∼10\\sim 10∼1，概率越高，信息越少 香农公式: L(x)=log21p(x)=−log2(x)L\\left ( x \\right ) =log_{2}\\frac{1}{p\\left ( x \\right )}=-log_{2}\\left ( x \\right )L(x)=log​2​​​p(x)​​1​​=−log​2​​(x) L(x)=log21p(x)=−log2(x)\r L\\left ( x \\right ) =log_{2}\\frac{1}{p\\left ( x \\right )}=-log_{2}\\left ( x \\right )\r L(x)=log​2​​​p(x)​​1​​=−log​2​​(x) "},"chapter2/联邦学习与CCKS.html":{"url":"chapter2/联邦学习与CCKS.html","title":" 联邦学习与CCKS","keywords":"","body":"联邦学习与CCKS 问题： 1. pickle file是干什么的？ 用来序列化和反序列化。 通俗的说，就是把python 的 对象从内存里弄出来，变成一个二进制流，然后可以向其他文件一样存在硬盘，或者发送给其他进程。 通常进行进程通讯主要是靠他，当然……你也可以用其他的比如json …… [!NOTE|style:flat] pickle有安全隐患，不要在公共网络中传输pickle流。可能被植入恶意代码，在接收端反序列化的时候被执行。 2. protobuf有一个2GB的硬限制 链接 https://www.zhihu.com/question/35549347/answer/1978384340 "},"chapter2/MK-CKKS.html":{"url":"chapter2/MK-CKKS.html","title":"MK-CKKS","keywords":"","body":"MK-CKKS 1 MK-CKKS 是一种基于错误环学习 (RLWE) 的同态加密方案。 R=Z[X]/(Xn+1)\r R=\\mathbb{Z}[X]/(X^n+1)\r R=Z[X]/(X​n​​+1) RRR是分圆环，nnn是2的幂次，Z[X]\\mathbb{Z}[X]Z[X]是整数系数的多项式环，RRR中的元素满足Xn=−1X^n=-1X​n​​=−1。Rq=Zq[X]/(Xn+1)\\:R_{q}=\\mathbb{Z}_{q}[X]/(X^{n}+1)\\:R​q​​=Z​q​​[X]/(X​n​​+1)是 RRR 的残差环1，其系数以整数 qqq 为模。（Rq=Zq[X]/(Xn+1)R_q=\\mathbb{Z}_q[X]/(X^n+1)R​q​​=Z​q​​[X]/(X​n​​+1) 表示模 qqq 的多项式环 Zq[X]\\mathbb{Z}_q[X]Z​q​​[X] 通过关于多项式 Xn+1X^n+1X​n​​+1的同余关系构造出的一个剩余类环。) 对于参数 (n,q,χ,ψ)(n,q,\\chi,\\psi)(n,q,χ,ψ)，我们的 RLWE 假设是，给定形式为 (a,b=s⋅a+e)∈Rq2,\\:(a,b=s\\cdot a+e)\\in R_q^2\\text{,}\\:(a,b=s⋅a+e)∈R​q​2​​,的多项式，当从 RqR_qR​q​​ 中均匀随机选择 aaa 时，项bbb 在计算上无法与 RqR_qR​q​​ 的均匀随机元素区分开来，sss 从 RqR_q R​q​​上的密钥分布χ\\chiχ 中选择，eee 从 RRR 上的C错误分布 ψ\\psiψ 中抽取的 。 我们用粗体表示向量，并使用⟨u,v⟩\\langle\\mathbf{u},\\mathbf{v}\\rangle⟨u,v⟩ 表示两个向量 u 和 v 的点积。x←Γx\\leftarrow\\Gamma\\text{}x←Γ表示根据分布 Γ 对 x 进行采样。λ 表示整篇论文的安全参数。g∈Zdg\\in Z^{d}\\quad\\text{}g∈Z​d​​是一个积分向量，called the gadget vector。MK-CKKS 假定公共参考字符串 (CRS) 模型，因此所有设备共享一个随机多项式向量 a←U(Rqd)\\mathbf{a}\\leftarrow U(R_{q}^{d})a←U(R​q​d​​)，这里 U (·) 表示均匀分布。设ski=(1,si)\\textit{sk}_\\mathbf{i}=(1,s_i)sk​i​​=(1,s​i​​) 作为密钥 sis_is​i​​，sk‾=(1,s1,...sN)\\overline{\\mathbf{sk}}=(1,s_{1},...s_{N})​sk​​​=(1,s​1​​,...s​N​​)用于连接多个密钥。cti=(c0di,c1di)\\mathbf{c t_i}=(c_0^{d_i},c_1^{d_i})ct​i​​=(c​0​d​i​​​​,c​1​d​i​​​​)是明文mim_im​i​​的密文来自远程设备  di\\ d_i d​i​​，i=1,…,N\\text{}i=1,\\ldots,Ni=1,…,N 2 设置 对于给定的安全参数 λ\\lambdaλ，设置 RLWE 维数 nnn、密文模数 qqq、密钥分布 χ\\begin{array}{c}\\chi\\end{array}​χ​​ 和误差分布ψ\\psiψ 在 RRR上。生成一个随机向量。返回公共参数(n,q,χ,ψ)(n,q,\\chi,\\psi)(n,q,χ,ψ)。远程设备 did_{i}d​i​​生成其秘密密钥 si←χ\\:s_{i}\\leftarrow\\chi\\:s​i​​←χ，并计算其公钥为 bi=−si⋅a+ei∈Rq2\\mathbf{b_{i}}=-s_{i}\\cdot\\mathbf{a}+\\mathbf{e_{i}}\\in R_{q}^{2}b​i​​=−s​i​​⋅a+e​i​​∈R​q​2​​，此处 ei\\mathbf{e}_{i}e​i​​是从 RRR 上的误差分布 ψ\\psiψ 中得出的误差向量。 3 编码和解码 在加密之前，首先将一个复数展开为一个向量，复数规范嵌入映射将其编码为环R的多项式。解码将解密后的多项式转换为复数向量。 4 加密 将消息向量编码为明文 mim_im​i​​（即分圆环的元素）后，did_id​i​​ 将 mim_im​i​​加密为密文 cti=(c0di,c1di)\\mathbf{c t_i}=(c_0^{d_i},c_1^{d_i})ct​i​​=(c​0​d​i​​​​,c​1​d​i​​​​)其中c0di=vi⋅bi+mi+e0di(modq)\\:c_0^{d_i}=v_i\\cdot b_i+m_i+e_0^{d_i}\\:(\\mathrm{mod}\\:q)\\:c​0​d​i​​​​=v​i​​⋅b​i​​+m​i​​+e​0​d​i​​​​(modq) 和c1di=vi⋅a+e1di(modq)c_{1}^{d_{i}}=v_{i}\\cdot a+e_{1}^{d_{i}}\\:(\\mathrm{mod}\\:q)c​1​d​i​​​​=v​i​​⋅a+e​1​d​i​​​​(modq)。这里 a=a[0]\\ a=\\mathbf a\\text{}[0]\\: a=a[0] 和  bi=bi[0]\\ b_i=\\textbf{b}_i[0] b​i​​=b​i​​[0],vi←χ\\:v_{i}\\leftarrow\\chi\\:v​i​​←χ 和 e0di,e1di←ψe_{0}^{d_{i}},e_{1}^{d_{i}}\\leftarrow\\psie​0​d​i​​​​,e​1​d​i​​​​←ψ。插入小错误以确保安全，并且可以在执行同态操作后通过舍入操作将其删除。在 MK-CKKS 中，与 N 个不同方相关联的附加密文的形式为Csum=def(∑i=1Nc0di,c1d1,c1d2,…,c1dN)∈RqN+1\\mathbf{C}_{\\mathrm{sum}}\\stackrel{\\mathrm{def}}=\\left(\\sum_{i=1}^{N}c_{0}^{d_{i}},c_{1}^{d_{1}},c_{1}^{d_{2}},\\ldots,c_{1}^{d_{N}}\\right)\\in R_{q}^{N+1}C​sum​​​=​def​​(∑​i=1​N​​c​0​d​i​​​​,c​1​d​1​​​​,c​1​d​2​​​​,…,c​1​d​N​​​​)∈R​q​N+1​​ Decryption of individual ciphertext. did_id​i​​ 计算ski=(1,si)\\textit{sk}_\\mathbf{i}=(1,s_i)sk​i​​=(1,s​i​​)和 cti=(c0di,c1di)\\mathbf{c t_i}=(c_0^{d_i},c_1^{d_i})ct​i​​=(c​0​d​i​​​​,c​1​d​i​​​​)的点积，如下所示 5 加法同态 设cti=(c0di,c1di)\\mathbf{c t_i}=(c_0^{d_i},c_1^{d_i})ct​i​​=(c​0​d​i​​​​,c​1​d​i​​​​) 和ctj=(c0dj,c1dj)\\mathbf{c t_j}=(c_0^{d_j},c_1^{d_j})ct​j​​=(c​0​d​j​​​​,c​1​d​j​​​​) 是来自远程设备 did_id​i​​ 和 djd_jd​j​​ 的明文消息 mim_im​i​​ 和 mjm_jm​j​​ 的两个密文。密文的总和是Csum=def(c0di+c0dj,c1di,c1dj)\\mathbf{C}_{\\mathrm{sum}}\\stackrel{\\mathrm{def}}=(c_{0}^{d_{i}}+c_{0}^{d_{j}},c_{1}^{d_{i}},c_{1}^{d_{j}})C​sum​​​=​def​​(c​0​d​i​​​​+c​0​d​j​​​​,c​1​d​i​​​​,c​1​d​j​​​​)它可以通过计算 CsumC_{s u m}C​sum​​ 和sk‾=(1,si,sj)\\overline{\\mathbf{s k}}=(1,s_{i},s_{j})​sk​​​=(1,s​i​​,s​j​​) 的点积来解密。正确性证明如下： 6 解密总和 MK-CKKS 中引入了基于噪声泛洪的分布式解密，因为假设任何一方都持有多个密钥是不合理的。解密包括两种算法：部分解密和合并。 1. 残差环（Residue Ring）是一个环的剩余类环。给定一个环 RRR 和一个理想 III，则 III 中的每个元素 aaa 都可以对 RRR 中的每个元素取模得到一个剩余类 [a][a][a]。所有这些剩余类构成一个新的环，称为 RRR 对 III 的剩余类环，记作 R/IR/IR/I。具体来说，R/IR/IR/I 中的元素是形如 [a][a][a] 的剩余类，其中 a∈Ra\\in Ra∈R 且 [a]=[b][a]=[b][a]=[b] 当且仅当 a−b∈Ia-b\\in Ia−b∈I。R/IR/IR/I 中的加法和乘法运算分别定义为： [a]+[b]=[a+b][a]+[b]=[a+b][a]+[b]=[a+b] [a]⋅[b]=[ab][a]\\cdot[b]=[ab][a]⋅[b]=[ab]在密码学中，残差环常被用于构造离散对数问题，从而实现公钥密码学中的加密和签名算法，如 Diffie-Hellman 密钥交换、ElGamal 加密、DSS 签名等。常用的残差环包括模素数的剩余类环 Z/pZ\\mathbb{Z}/p\\mathbb{Z}Z/pZ，以及模多项式的剩余类环 Rq=Zq[X]/(f(X))R_q=\\mathbb{Z}_q[X]/(f(X))R​q​​=Z​q​​[X]/(f(X))，其中 f(X)f(X)f(X) 是一个不可约多项式 ↩ "},"chapter3/相关资料.html":{"url":"chapter3/相关资料.html","title":"相关资料","keywords":"","body":"相关资料 一、B站视频 差分隐私：原理、应用与展望 A Course on Differential Privacy (差分隐私) 二、代码 Deep Learning With Differential Privacy book_Programming Differential Privacy https://github.com/forestneo/sunPytools里面包含了差分隐私和同态加密等密码学的相关算法实现 三、知乎 【机器学习与差分隐私代码实现】差分隐私代码实现系列（十二） 【稀疏向量技术代码实现】差分隐私代码实现系列（十一） "},"chapter4/数集.html":{"url":"chapter4/数集.html","title":"数集","keywords":"","body":"数集 由数组成的集合叫做数集.常见的数集有:实数集R,有理数集Q,整数集Z,正整数(或自然数)集N,复数集C。 正整数指的是1，2，3，4，5……那类的数 自然数包括0和正整数。 整数包括负整数，0，正整数。整数就是指…… -3 -2 -1 0 1 2 3 ……那类的数。不是自然数的整数是负整数，指-1 -2 -3……那类的数。 有理数就是能写成两整数之比的数。有理数包括整数和分数，分数就是指不是整数的有理数，所有有限小数和无限循环小数都是分数。 实数是有理数和无理数的统称。 无理数就是无限不循环小数，不能写成两个整数之比的实数，所有的小数和整数都是实数。 实数={有理数}∪{无理数}还有复数。 复数指a+bi(a,b为实数，其中i^2=-1)形式的数。复数就是实数和虚数的统称。其中b=0时该复数为实数，其他的都是虚数，a=0,b≠0时为纯虚数。 还有超实数，就是实数集中扩展无穷大和无穷小数的数集。 自然数：N，正整数:N+，整数：Z，有理数：Q，实数：R，复数：C。 其中自然数，正整数，整数，有理数都是可数集，实数和复数是不可数集。 参考链接 https://www.cnblogs.com/leezx/p/13378623.html "},"chapter4/群.html":{"url":"chapter4/群.html","title":"群","keywords":"","body":"群 定义1 (LATTICE) 给定 n n n 个线性无关向量b1,b2,…,bn∈Rm b_{1},b_{2},\\ldots,b_{n}\\in\\mathbb{R}^{m} b​1​​,b​2​​,…,b​n​​∈R​m​​，由它们产生的格被定义为, L(b1,b2,…,bn)={Σxibi∣xi∈Z}\r \\mathcal{L}(b_1\\:,b_2,\\ldots,b_n)=\\{\\Sigma x_ib_i|x_i\\in\\mathbb{Z}\\}\r L(b​1​​,b​2​​,…,b​n​​)={Σx​i​​b​i​​∣x​i​​∈Z} "},"chapter4/环.html":{"url":"chapter4/环.html","title":"环","keywords":"","body":"环 1 环的定义 如果一个非空集合 RRR上定义了两个二元运算 + 和 ⋅ ，分别称为加法和乘法，满足： （1）(R,+)(R,+)(R,+) 是Abel群(也称交换群) （2）(R,⋅)(R,\\cdot)(R,⋅) 是半群（满足乘法结合律） （3）乘法对于加法满足左分配律、右分配律，即对于∀a,b,c∈R\\forall a,b,c\\in R∀a,b,c∈R，有 (a+b)⋅c=a⋅c+b⋅c(a+b) \\cdot c=a\\cdot c + b \\cdot c(a+b)⋅c=a⋅c+b⋅c 且 c⋅(a+b)=c⋅a+c⋅bc\\cdot (a+b)=c\\cdot a + c \\cdot bc⋅(a+b)=c⋅a+c⋅b 则称 RRR关于运算 +,⋅ 构成一个环（ring），记为 (R,+,⋅)(R,+,\\cdot)(R,+,⋅) ，或简记为RRR 。 上述定义中，环中的“加法”和“乘法”只是对于这两种运算的代称，并不一定指算术中的加法和乘法，正如群中的乘法一样。 1.1 含幺环 如果环 RRR 中存在乘法单位元 1 ，即对于 ∀a∈R\\forall a\\in R∀a∈R 有 a1=1a=aa1=1a=aa1=1a=a成立，则称环 RRR为含幺环或含单位元的环（ring with identity），该乘法单位元称为环的单位元。 环一定有零元，但未必有单位元。只有一个元素的环称为零环，是平凡环，其他所有的环为非零环。如果不加说明，含幺环通常指的是非平凡且含单位元的环。 1.2 交换环 如果环 RRR的乘法满足交换律，即对于 ∀a,b∈R\\forall a,b\\in R∀a,b∈R有ab=baab=baab=ba成立，则称环RRR 为交换环（commutative ring），否则称为非交换环（noncommutative ring）。 1.3 数环 整数Z\\mathbb{Z}Z ，有理数 Q\\mathbb{Q}Q，实数 R\\mathbb{R}R 和复数C\\mathbb{C}C关于算术加法和乘法分别构成整数环、有理数环、实数环和复数环，通常也用它们的集合符号表示。这些数环都是含幺的交换环。另外，偶数2Z2\\mathbb{Z}2Z 也构成交换环，但不含单位元。 1.4 模n剩余类环 在模n剩余类群 Zn\\mathbb{Z}_nZ​n​​ 中，定义乘法[a][b]:=[ab][a][b]:=[ab][a][b]:=[ab]，可以验证该乘法是良定义的，且满足结合律，因此 Zn\\mathbb{Z}_nZ​n​​ 关于加法和乘法构成环，且该环是含幺的交换环，单位元是 [1] 。 1.5 n阶全矩阵环 环 RRR 上的所有nnn阶矩阵构成的集合 Mn(R)M_n(R)M​n​​(R)对于矩阵的加法和乘法构成环，称为RRR上的 nnn 阶全矩阵环。如果 RRR 有单位元，则 Mn(R)M_n(R)M​n​​(R)也有单位元，其单位元是 nnn 阶单位矩阵。 1.6 多项式环 多项式定义：设R是个环R[x]=:{f(x)=∑k=0nakxk∣ak∈R,k=0,1⋅⋅⋅,n,n∈N}R[x]=:\\left\\{ f(x)=\\sum_{k=0}^{n}{a_{k}x^{k}} |a_{k}\\in R,k=0,1\\cdot\\cdot\\cdot,n,n\\in N\\right\\}R[x]=:{f(x)=∑​k=0​n​​a​k​​x​k​​∣a​k​​∈R,k=0,1⋅⋅⋅,n,n∈N}中每个元素叫做R上x的多项式；自然引进：常数项、系数、次数degf1、首项、首1、相等; 规定 deg0=−∞deg0=-\\inftydeg0=−∞ 多项式环的定义：在R[x]中自然定义加法、乘法，称 (R[x],+,⋅)(R[x],+,\\cdot)(R[x],+,⋅)为多项式环； 实际上，设 f(x)=∑k=0nakxkf(x)=\\sum_{k=0}^{n}{a_{k}x^{k}}f(x)=∑​k=0​n​​a​k​​x​k​​，g(x)=∑j=0mbjxjg(x)=\\sum_{j=0}^{m}{b_{j}x^{j}}g(x)=∑​j=0​m​​b​j​​x​j​​, 则 f(x)+g(x)=∑i=0max{m,n}(ai+bi)xif(x)+g(x)=\\sum_{i=0}^{max\\left\\{ m,n \\right\\}}({a_{i}+b_{i}})x^{i}f(x)+g(x)=∑​i=0​max{m,n}​​(a​i​​+b​i​​)x​i​​ , i>min{m,n},i>min\\left\\{ m,n \\right\\},i>min{m,n},, 自然规定相应系数为0； f(x)⋅g(x)=∑i=0m+n(∑k+j=iakbj)xif(x)\\cdot g(x)=\\sum_{i=0}^{m+n}(\\sum_{k+j=i}{a_{k}b_{j}})x^{i}f(x)⋅g(x)=∑​i=0​m+n​​(∑​k+j=i​​a​k​​b​j​​)x​i​​ ; 类似地，可定义n元多项式环 且可看成R[x1,x2,⋅⋅⋅,xn]R[x_{1},x_{2},\\cdot\\cdot\\cdot,x_{n}]R[x​1​​,x​2​​,⋅⋅⋅,x​n​​],且R[x1,x2]R[x_{1},x_{2}]R[x​1​​,x​2​​]可看成R[x1][x2]R[x_{1}][x_{2}]R[x​1​​][x​2​​] 等等. 1.8 分圆环 分圆环是一个数论结构，通常用来描述复数域的某些子集在单位圆上的点的集合。简单来说，它是一个在某个数域中由单位根组成的子集所构成的环，其中加法和乘法运算定义为两个单位根的加法和乘法。 具体来说，对于一个数域 KKK 和正整数 nnn，分圆环 Cn\\mathbb{C}_nC​n​​ 是由 KKK 中所有 nnn次单位根构成的集合所构成的环。这个环可以用 Cn=ζ∈C∣ζn=1\\mathbb{C}_n = { \\zeta \\in \\mathbb{C} \\mid \\zeta^n = 1 }C​n​​=ζ∈C∣ζ​n​​=1 的形式来表示。 R=Z[X]/(Xn+1)R=\\mathbb{Z}[X]/(X^n+1)R=Z[X]/(X​n​​+1) 表示由 Z[X]\\mathbb{Z}[X]Z[X] 中所有多项式与理想 (Xn+1)(X^n+1)(X​n​​+1) 所构成的商环。换句话说，RRR 中的元素是由形如 a0+a1X+a2X2+⋯+an−1Xn−1a_0 + a_1X + a_2X^2 + \\cdots + a_{n-1}X^{n-1}a​0​​+a​1​​X+a​2​​X​2​​+⋯+a​n−1​​X​n−1​​ 的多项式在模掉 (Xn+1)(X^n+1)(X​n​​+1) 之后所得到的剩余类。 这个环可以看作是 Z[X]\\mathbb{Z}[X]Z[X] 中的多项式在模掉 Xn+1X^n+1X​n​​+1 之后所得到的剩余类的集合，而在这个剩余类集合上，我们可以定义加法和乘法运算。具体来说，对于 RRR 中的两个元素 f(X)+(Xn+1)f(X)+(X^n+1)f(X)+(X​n​​+1) 和 g(X)+(Xn+1)g(X)+(X^n+1)g(X)+(X​n​​+1)，定义它们的加法为 (f(X)+g(X))+(Xn+1)(f(X)+g(X))+(X^n+1)(f(X)+g(X))+(X​n​​+1)，定义它们的乘法为 (f(X)⋅g(X))+(Xn+1)(f(X) \\cdot g(X))+(X^n+1)(f(X)⋅g(X))+(X​n​​+1)。 a←U(Rqd)\\mathbf{a}\\leftarrow U(R_q^d)a←U(R​q​d​​) 表示从 RqdR_q^dR​q​d​​ 中均匀随机选择一个元素 a\\mathbf{a}a。其中，RqR_qR​q​​ 是模 qqq 的整数环，RqdR_q^dR​q​d​​ 表示由 ddd 个 RqR_qR​q​​ 中的元素构成的向量空间，a\\mathbf{a}a 是一个 ddd 维向量，每个元素都是 RqR_qR​q​​ 中的一个随机数。 1.9 子环 设 (R,+,⋅)(R,+,\\cdot)(R,+,⋅) 是环， SSS 是 RRR 的非空子集，如果 (S,+,⋅)(S,+,\\cdot)(S,+,⋅) 也是环，则称 SSS 是环 RRR的子环（subring）。 参考链接 多项式环 【抽象代数】7. 环的定义与基本性质 1:在代数中，对于一个非零多项式 f(x)，它的次数指的是最高项的次数，记作 deg f(x)。具体地，如果 f(x) 可以表示为f(x) = a_0 + a_1 x + a_2 x^2 + ... + a_n x^n,其中 a_n ≠ 0，则 f(x) 的次数为 n，即 deg f(x) = n。如果 f(x) 是零多项式，则它的次数为 −∞。 "}}